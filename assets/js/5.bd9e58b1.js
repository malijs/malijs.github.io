(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{163:function(t,a,s){"use strict";s.r(a);var e=s(0),n=Object(e.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"content"},[s("h1",{attrs:{id:"api-reference"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#api-reference","aria-hidden":"true"}},[t._v("#")]),t._v(" API Reference")]),t._v(" "),s("h2",{attrs:{id:"classes"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#classes","aria-hidden":"true"}},[t._v("#")]),t._v(" Classes")]),t._v(" "),s("dl",[s("dt",[s("a",{attrs:{href:"#Mali"}},[t._v("Mali")]),t._v(" ⇐ "),s("code",[t._v("Emitter")])]),t._v(" "),s("dd",[s("p",[t._v("Represents a gRPC service")])]),t._v(" "),s("dt",[s("a",{attrs:{href:"#Context"}},[t._v("Context")])]),t._v(" "),s("dd",[s("p",[t._v("Represents the application and call context. Clients to not create this. Mali does it for us.")])]),t._v(" "),s("dt",[s("a",{attrs:{href:"#Request"}},[t._v("Request")])]),t._v(" "),s("dd",[s("p",[t._v("Mali Request class that encapsulates the request of a call.\nClients to not create this. Mali does it for us.")])]),t._v(" "),s("dt",[s("a",{attrs:{href:"#Response"}},[t._v("Response")])]),t._v(" "),s("dd",[s("p",[t._v("Mali Response class that encapsulates the response of a call.\nClients to not create this. Mali does it for us.")])])]),t._v(" "),s("p",[s("a",{attrs:{name:"Mali"}})]),t._v(" "),s("h2",{attrs:{id:"mali-⇐-emitter"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mali-⇐-emitter","aria-hidden":"true"}},[t._v("#")]),t._v(" Mali ⇐ "),s("code",[t._v("Emitter")])]),t._v(" "),s("p",[t._v("Represents a gRPC service")]),t._v(" "),s("p",[s("strong",[t._v("Kind")]),t._v(": global class"),s("br"),t._v(" "),s("strong",[t._v("Extends")]),t._v(": "),s("code",[t._v("Emitter")])]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"#Mali"}},[t._v("Mali")]),t._v(" ⇐ "),s("code",[t._v("Emitter")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"#new_Mali_new"}},[t._v("new Mali(proto, name, options)")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#Mali+name"}},[t._v(".name")]),t._v(" : "),s("code",[t._v("String")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#Mali+env"}},[t._v(".env")]),t._v(" : "),s("code",[t._v("String")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#Mali+ports"}},[t._v(".ports")]),t._v(" : "),s("code",[t._v("Array")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#Mali+silent"}},[t._v(".silent")]),t._v(" : "),s("code",[t._v("Boolean")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#Mali+addService"}},[t._v(".addService(proto, name, options)")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#Mali+use"}},[t._v(".use(service, name, ...fns)")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#Mali+onerror"}},[t._v(".onerror(err)")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#Mali+start"}},[t._v(".start(port, creds, options)")]),t._v(" ⇒ "),s("code",[t._v("Object")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#Mali+close"}},[t._v(".close()")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#Mali+toJSON"}},[t._v(".toJSON()")]),t._v(" ⇒ "),s("code",[t._v("Object")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#Mali+inspect"}},[t._v(".inspect()")]),t._v(" ⇒ "),s("code",[t._v("Object")])])])])]),t._v(" "),s("p",[s("a",{attrs:{name:"new_Mali_new"}})]),t._v(" "),s("h3",{attrs:{id:"new-mali-proto-name-options"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#new-mali-proto-name-options","aria-hidden":"true"}},[t._v("#")]),t._v(" new Mali(proto, name, options)")]),t._v(" "),s("p",[t._v("Create a gRPC service")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Param")]),t._v(" "),s("th",[t._v("Type")]),t._v(" "),s("th",[t._v("Description")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("proto")]),t._v(" "),s("td",[s("code",[t._v("String")]),t._v(" | "),s("code",[t._v("Object")])]),t._v(" "),s("td",[t._v("Path to the protocol buffer definition file                              - Object specifying "),s("code",[t._v("root")]),t._v(" directory and "),s("code",[t._v("file")]),t._v(" to load                              - Loaded grpc object                              - The static service proto object itself")])]),t._v(" "),s("tr",[s("td",[t._v("name")]),t._v(" "),s("td",[s("code",[t._v("Object")])]),t._v(" "),s("td",[t._v("Optional name of the service or an array of names. Otherwise all services are used.                      In case of proto path the name of the service as defined in the proto definition.                      In case of proto object the name of the constructor.")])]),t._v(" "),s("tr",[s("td",[t._v("options")]),t._v(" "),s("td",[s("code",[t._v("Object")])]),t._v(" "),s("td",[t._v("Options to be passed to "),s("code",[t._v("grpc.load")])])])])]),t._v(" "),s("p",[s("strong",[t._v("Example")]),t._v(" "),s("em",[t._v("(Create service dynamically)")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{attrs:{class:"token constant"}},[t._v("PROTO_PATH")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" path"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("resolve")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("__dirname"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'./protos/helloworld.proto'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" app "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{attrs:{class:"token class-name"}},[t._v("Mali")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token constant"}},[t._v("PROTO_PATH")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'Greeter'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[s("strong",[t._v("Example")]),t._v(" "),s("em",[t._v("(Create service from static definition)")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" services "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token function"}},[t._v("require")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'./static/helloworld_grpc_pb'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" app "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{attrs:{class:"token class-name"}},[t._v("Mali")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("services"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'GreeterService'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[s("a",{attrs:{name:"Mali+name"}})]),t._v(" "),s("h3",{attrs:{id:"mali-name-string"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mali-name-string","aria-hidden":"true"}},[t._v("#")]),t._v(" mali.name : "),s("code",[t._v("String")])]),t._v(" "),s("p",[t._v("The service name.\nIf multiple services are initialized, this will be equal to the first service loaded.")]),t._v(" "),s("p",[s("strong",[t._v("Kind")]),t._v(": instance property of "),s("a",{attrs:{href:"#Mali"}},[s("code",[t._v("Mali")])]),s("br"),t._v(" "),s("strong",[t._v("Example")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("console"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("log")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("app"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token comment"}},[t._v("// 'Greeter'")]),t._v("\n")])])]),s("p",[s("a",{attrs:{name:"Mali+env"}})]),t._v(" "),s("h3",{attrs:{id:"mali-env-string"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mali-env-string","aria-hidden":"true"}},[t._v("#")]),t._v(" mali.env : "),s("code",[t._v("String")])]),t._v(" "),s("p",[t._v("The environment. Taken from "),s("code",[t._v("process.end.NODE_ENV")]),t._v(". Default: "),s("code",[t._v("development")])]),t._v(" "),s("p",[s("strong",[t._v("Kind")]),t._v(": instance property of "),s("a",{attrs:{href:"#Mali"}},[s("code",[t._v("Mali")])]),s("br"),t._v(" "),s("strong",[t._v("Example")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("console"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("log")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("app"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("env"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token comment"}},[t._v("// 'development'")]),t._v("\n")])])]),s("p",[s("a",{attrs:{name:"Mali+ports"}})]),t._v(" "),s("h3",{attrs:{id:"mali-ports-array"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mali-ports-array","aria-hidden":"true"}},[t._v("#")]),t._v(" mali.ports : "),s("code",[t._v("Array")])]),t._v(" "),s("p",[t._v("The ports of the started service(s)")]),t._v(" "),s("p",[s("strong",[t._v("Kind")]),t._v(": instance property of "),s("a",{attrs:{href:"#Mali"}},[s("code",[t._v("Mali")])]),s("br"),t._v(" "),s("strong",[t._v("Example")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("console"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("log")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("app"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ports"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token comment"}},[t._v("// [ 52239 ]")]),t._v("\n")])])]),s("p",[s("a",{attrs:{name:"Mali+silent"}})]),t._v(" "),s("h3",{attrs:{id:"mali-silent-boolean"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mali-silent-boolean","aria-hidden":"true"}},[t._v("#")]),t._v(" mali.silent : "),s("code",[t._v("Boolean")])]),t._v(" "),s("p",[t._v("Whether to log errors in "),s("code",[t._v("onerror")]),t._v(". Default: "),s("code",[t._v("false")])]),t._v(" "),s("p",[s("strong",[t._v("Kind")]),t._v(": instance property of "),s("a",{attrs:{href:"#Mali"}},[s("code",[t._v("Mali")])]),s("br"),t._v(" "),s("a",{attrs:{name:"Mali+addService"}})]),t._v(" "),s("h3",{attrs:{id:"mali-addservice-proto-name-options"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mali-addservice-proto-name-options","aria-hidden":"true"}},[t._v("#")]),t._v(" mali.addService(proto, name, options)")]),t._v(" "),s("p",[t._v("Add the service and initialize the app with the proto.\nBasically this can be used if you don't have the data at app construction time for some reason.\nThis is different with "),s("code",[t._v("grpc.Server.addService()")]),t._v(".")]),t._v(" "),s("p",[s("strong",[t._v("Kind")]),t._v(": instance method of "),s("a",{attrs:{href:"#Mali"}},[s("code",[t._v("Mali")])])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Param")]),t._v(" "),s("th",[t._v("Type")]),t._v(" "),s("th",[t._v("Description")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("proto")]),t._v(" "),s("td",[s("code",[t._v("String")]),t._v(" | "),s("code",[t._v("Object")])]),t._v(" "),s("td",[t._v("Path to the protocol buffer definition file                              - Object specifying "),s("code",[t._v("root")]),t._v(" directory and "),s("code",[t._v("file")]),t._v(" to load                              - Loaded grpc object                              - The static service proto object itself")])]),t._v(" "),s("tr",[s("td",[t._v("name")]),t._v(" "),s("td",[s("code",[t._v("Object")])]),t._v(" "),s("td",[t._v("Optional name of the service or an array of names. Otherwise all services are used.                      In case of proto path the name of the service as defined in the proto definition.                      In case of proto object the name of the constructor.")])]),t._v(" "),s("tr",[s("td",[t._v("options")]),t._v(" "),s("td",[s("code",[t._v("Object")])]),t._v(" "),s("td",[t._v("Options to be passed to "),s("code",[t._v("grpc.load")])])])])]),t._v(" "),s("p",[s("a",{attrs:{name:"Mali+use"}})]),t._v(" "),s("h3",{attrs:{id:"mali-use-service-name-fns"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mali-use-service-name-fns","aria-hidden":"true"}},[t._v("#")]),t._v(" mali.use(service, name, ...fns)")]),t._v(" "),s("p",[t._v("Define middleware and handlers.\nIf "),s("code",[t._v("service")]),t._v(" and name are given applies fns for that call under that service.\nIf "),s("code",[t._v("service")]),t._v(" name is provided and matches one of the services defined in proto,\nbut no "),t._v("name"),t._v(" is provided applies the fns as service level middleware\nfor all handlers in that service.\nIf "),s("code",[t._v("service")]),t._v(" is provided and no "),s("code",[t._v("name")]),t._v(" is provided, and service does not\nmatch any of the service names in the proto, assumes "),s("code",[t._v("service")]),t._v(" is actually rpc call\nname. Uses "),s("code",[t._v("0")]),t._v("th property in internal services object. Useful for protos with only\none service.\nIf an "),s("code",[t._v("object")]),t._v(" is provided, you can set middleware and handlers for all services.\nIf "),s("code",[t._v("object")]),t._v(" provided but "),s("code",[t._v("0")]),t._v("th key does not match any of the services in\nproto, we try to match the key to one of the rpc function names in one of the services.\nIf we can't find the matching rpc function name just tries the "),s("code",[t._v("0")]),t._v("th service name.")]),t._v(" "),s("p",[s("strong",[t._v("Kind")]),t._v(": instance method of "),s("a",{attrs:{href:"#Mali"}},[s("code",[t._v("Mali")])])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Param")]),t._v(" "),s("th",[t._v("Type")]),t._v(" "),s("th",[t._v("Description")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("service")]),t._v(" "),s("td",[s("code",[t._v("String")]),t._v(" | "),s("code",[t._v("Object")])]),t._v(" "),s("td",[t._v("Service name")])]),t._v(" "),s("tr",[s("td",[t._v("name")]),t._v(" "),s("td",[s("code",[t._v("String")]),t._v(" | "),s("code",[t._v("function")])]),t._v(" "),s("td",[t._v("RPC name")])]),t._v(" "),s("tr",[s("td",[t._v("...fns")]),t._v(" "),s("td",[s("code",[t._v("function")]),t._v(" | "),s("code",[t._v("Array")])]),t._v(" "),s("td",[t._v("Middleware and/or handler")])])])]),t._v(" "),s("p",[s("strong",[t._v("Example")]),t._v(" "),s("em",[t._v("(Define handler for rpc function 'fn1')")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("app"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("use")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'fn1'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" fn1"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[s("strong",[t._v("Example")]),t._v(" "),s("em",[t._v("(Define handler with middleware for rpc function 'fn2')")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("app"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("use")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'fn2'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" mw1"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" mw2"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" fn2"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[s("strong",[t._v("Example")]),t._v(" "),s("em",[t._v("(Define handler with middleware for rpc function 'fn2' in service 'Service2')")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("app"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("use")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'Service2'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'fn2'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" mw1"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" mw2"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" fn2"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[s("strong",[t._v("Example")]),t._v(" "),s("em",[t._v("(Using destructuring define handlers for rpc functions 'fn1' and 'fn2')")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("app"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("use")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" fn1"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" fn2 "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[s("strong",[t._v("Example")]),t._v(" "),s("em",[t._v("(Apply middleware to all handlers for a service)")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("app"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("use")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'Service1'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" mw1"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[s("strong",[t._v("Example")]),t._v(" "),s("em",[t._v("(Using destructuring define handlers for rpc functions 'fn1' and 'fn2')")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{attrs:{class:"token comment"}},[t._v("// fn2 has middleware mw1 and mw2")]),t._v("\napp"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("use")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" MyService"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" fn1"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" fn2"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("mw1"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" mw2"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" fn2"),s("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[s("strong",[t._v("Example")]),t._v(" "),s("em",[t._v("(Multiple services using object notation)")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("app"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("use")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("mw1"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token comment"}},[t._v("// global for all services")]),t._v("\napp"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("use")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'Service1'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" mw2"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token comment"}},[t._v("// applies to all Service1 handlers")]),t._v("\napp"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("use")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  Service1"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    sayGoodbye"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" handler1"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token comment"}},[t._v("// has mw1, mw2")]),t._v("\n    sayHello"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" mw3"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" handler2 "),s("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{attrs:{class:"token comment"}},[t._v("// has mw1, mw2, mw3")]),t._v("\n  "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  Service2"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    saySomething"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" handler3 "),s("span",{attrs:{class:"token comment"}},[t._v("// only has mw1")]),t._v("\n  "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[s("a",{attrs:{name:"Mali+onerror"}})]),t._v(" "),s("h3",{attrs:{id:"mali-onerror-err"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mali-onerror-err","aria-hidden":"true"}},[t._v("#")]),t._v(" mali.onerror(err)")]),t._v(" "),s("p",[t._v("Default error handler.")]),t._v(" "),s("p",[s("strong",[t._v("Kind")]),t._v(": instance method of "),s("a",{attrs:{href:"#Mali"}},[s("code",[t._v("Mali")])])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Param")]),t._v(" "),s("th",[t._v("Type")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("err")]),t._v(" "),s("td",[s("code",[t._v("Error")])])])])]),t._v(" "),s("p",[s("a",{attrs:{name:"Mali+start"}})]),t._v(" "),s("h3",{attrs:{id:"mali-start-port-creds-options-⇒-object"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mali-start-port-creds-options-⇒-object","aria-hidden":"true"}},[t._v("#")]),t._v(" mali.start(port, creds, options) ⇒ "),s("code",[t._v("Object")])]),t._v(" "),s("p",[t._v("Start the service. All middleware and handlers have to be set up prior to calling "),s("code",[t._v("start")]),t._v(".\nThrows in case we fail to bind to the given port.")]),t._v(" "),s("p",[s("strong",[t._v("Kind")]),t._v(": instance method of "),s("a",{attrs:{href:"#Mali"}},[s("code",[t._v("Mali")])]),s("br"),t._v(" "),s("strong",[t._v("Returns")]),t._v(": "),s("code",[t._v("Object")]),t._v(" - server - The "),s("code",[t._v("grpc.Server")]),t._v(" instance")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Param")]),t._v(" "),s("th",[t._v("Type")]),t._v(" "),s("th",[t._v("Description")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("port")]),t._v(" "),s("td",[s("code",[t._v("String")])]),t._v(" "),s("td",[t._v("The hostport for the service. Default: "),s("code",[t._v("127.0.0.1:0")])])]),t._v(" "),s("tr",[s("td",[t._v("creds")]),t._v(" "),s("td",[s("code",[t._v("Object")])]),t._v(" "),s("td",[t._v("Credentials options. Default: "),s("code",[t._v("grpc.ServerCredentials.createInsecure()")])])]),t._v(" "),s("tr",[s("td",[t._v("options")]),t._v(" "),s("td",[s("code",[t._v("Object")])]),t._v(" "),s("td",[t._v("The start options to be passed to "),s("code",[t._v("grpc.Server")]),t._v(" constructor.")])])])]),t._v(" "),s("p",[s("strong",[t._v("Example")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("app"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("start")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'localhost:50051'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[s("strong",[t._v("Example")]),t._v(" "),s("em",[t._v("(Start same app on multiple ports)")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("app"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("start")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'127.0.0.1:50050'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\napp"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("start")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'127.0.0.1:50051'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[s("a",{attrs:{name:"Mali+close"}})]),t._v(" "),s("h3",{attrs:{id:"mali-close"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mali-close","aria-hidden":"true"}},[t._v("#")]),t._v(" mali.close()")]),t._v(" "),s("p",[t._v("Close the service(s).")]),t._v(" "),s("p",[s("strong",[t._v("Kind")]),t._v(": instance method of "),s("a",{attrs:{href:"#Mali"}},[s("code",[t._v("Mali")])]),s("br"),t._v(" "),s("strong",[t._v("Example")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("app"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("close")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[s("a",{attrs:{name:"Mali+toJSON"}})]),t._v(" "),s("h3",{attrs:{id:"mali-tojson-⇒-object"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mali-tojson-⇒-object","aria-hidden":"true"}},[t._v("#")]),t._v(" mali.toJSON() ⇒ "),s("code",[t._v("Object")])]),t._v(" "),s("p",[t._v("Return JSON representation.\nWe only bother showing settings.")]),t._v(" "),s("p",[s("strong",[t._v("Kind")]),t._v(": instance method of "),s("a",{attrs:{href:"#Mali"}},[s("code",[t._v("Mali")])]),s("br"),t._v(" "),s("strong",[t._v("Api")]),t._v(": public"),s("br"),t._v(" "),s("a",{attrs:{name:"Mali+inspect"}})]),t._v(" "),s("h3",{attrs:{id:"mali-inspect-⇒-object"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mali-inspect-⇒-object","aria-hidden":"true"}},[t._v("#")]),t._v(" mali.inspect() ⇒ "),s("code",[t._v("Object")])]),t._v(" "),s("p",[t._v("Inspect implementation.")]),t._v(" "),s("p",[s("strong",[t._v("Kind")]),t._v(": instance method of "),s("a",{attrs:{href:"#Mali"}},[s("code",[t._v("Mali")])]),s("br"),t._v(" "),s("a",{attrs:{name:"Context"}})]),t._v(" "),s("h2",{attrs:{id:"context"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#context","aria-hidden":"true"}},[t._v("#")]),t._v(" Context")]),t._v(" "),s("p",[t._v("Represents the application and call context. Clients to not create this. Mali does it for us.")]),t._v(" "),s("p",[s("strong",[t._v("Kind")]),t._v(": global class"),s("br"),t._v(" "),s("strong",[t._v("Summary")]),t._v(": Represents a Mali call context")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"#Context"}},[t._v("Context")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"#Context+name"}},[t._v(".name")]),t._v(" : "),s("code",[t._v("String")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#Context+fullName"}},[t._v(".fullName")]),t._v(" : "),s("code",[t._v("String")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#Context+service"}},[t._v(".service")]),t._v(" : "),s("code",[t._v("String")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#Context+package"}},[t._v(".package")]),t._v(" : "),s("code",[t._v("String")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#Context+app"}},[t._v(".app")]),t._v(" : "),s("code",[t._v("Object")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#Context+call"}},[t._v(".call")]),t._v(" : "),s("code",[t._v("Object")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#Context+request"}},[t._v(".request")]),t._v(" : "),s("code",[t._v("Object")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#Context+response"}},[t._v(".response")]),t._v(" : "),s("code",[t._v("Object")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#Context+req"}},[t._v(".req")]),t._v(" : "),s("code",[t._v("Object")]),t._v(" | "),s("code",[t._v("Stream")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#Context+type"}},[t._v(".type")]),t._v(" : "),s("code",[t._v("String")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#Context+metadata"}},[t._v(".metadata")]),t._v(" : "),s("code",[t._v("String")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#Context+get"}},[t._v(".get")]),t._v(" ⇒ "),s("code",[t._v("*")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#Context+res"}},[t._v(".res")]),t._v(" : "),s("code",[t._v("Object")]),t._v(" | "),s("code",[t._v("Stream")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#Context+set"}},[t._v(".set")]),t._v(" : "),s("code",[t._v("function")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#Context+sendMetadata"}},[t._v(".sendMetadata")]),t._v(" : "),s("code",[t._v("function")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#Context+getStatus"}},[t._v(".getStatus")]),t._v(" ⇒ "),s("code",[t._v("*")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#Context+setStatus"}},[t._v(".setStatus")]),t._v(" : "),s("code",[t._v("function")])])])])]),t._v(" "),s("p",[s("a",{attrs:{name:"Context+name"}})]),t._v(" "),s("h3",{attrs:{id:"context-name-string"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#context-name-string","aria-hidden":"true"}},[t._v("#")]),t._v(" context.name : "),s("code",[t._v("String")])]),t._v(" "),s("p",[t._v("The call function name.")]),t._v(" "),s("p",[s("strong",[t._v("Kind")]),t._v(": instance property of "),s("a",{attrs:{href:"#Context"}},[s("code",[t._v("Context")])]),s("br"),t._v(" "),s("strong",[t._v("Example")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("console"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("log")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token comment"}},[t._v("// 'SayHello'")]),t._v("\n")])])]),s("p",[s("a",{attrs:{name:"Context+fullName"}})]),t._v(" "),s("h3",{attrs:{id:"context-fullname-string"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#context-fullname-string","aria-hidden":"true"}},[t._v("#")]),t._v(" context.fullName : "),s("code",[t._v("String")])]),t._v(" "),s("p",[t._v("The full name of the call.")]),t._v(" "),s("p",[s("strong",[t._v("Kind")]),t._v(": instance property of "),s("a",{attrs:{href:"#Context"}},[s("code",[t._v("Context")])]),s("br"),t._v(" "),s("strong",[t._v("Example")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("console"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("log")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("fullName"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token comment"}},[t._v("// '/helloworld.Greeter/SayHello'")]),t._v("\n")])])]),s("p",[s("a",{attrs:{name:"Context+service"}})]),t._v(" "),s("h3",{attrs:{id:"context-service-string"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#context-service-string","aria-hidden":"true"}},[t._v("#")]),t._v(" context.service : "),s("code",[t._v("String")])]),t._v(" "),s("p",[t._v("The service name of the call.")]),t._v(" "),s("p",[s("strong",[t._v("Kind")]),t._v(": instance property of "),s("a",{attrs:{href:"#Context"}},[s("code",[t._v("Context")])]),s("br"),t._v(" "),s("strong",[t._v("Example")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("console"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("log")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("service"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token comment"}},[t._v("// 'Greeter'")]),t._v("\n")])])]),s("p",[s("a",{attrs:{name:"Context+package"}})]),t._v(" "),s("h3",{attrs:{id:"context-package-string"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#context-package-string","aria-hidden":"true"}},[t._v("#")]),t._v(" context.package : "),s("code",[t._v("String")])]),t._v(" "),s("p",[t._v("The package name of the call.")]),t._v(" "),s("p",[s("strong",[t._v("Kind")]),t._v(": instance property of "),s("a",{attrs:{href:"#Context"}},[s("code",[t._v("Context")])]),s("br"),t._v(" "),s("strong",[t._v("Example")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("console"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("log")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token keyword"}},[t._v("package")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token comment"}},[t._v("// 'helloworld'")]),t._v("\n")])])]),s("p",[s("a",{attrs:{name:"Context+app"}})]),t._v(" "),s("h3",{attrs:{id:"context-app-object"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#context-app-object","aria-hidden":"true"}},[t._v("#")]),t._v(" context.app : "),s("code",[t._v("Object")])]),t._v(" "),s("p",[t._v("The application instance reference.")]),t._v(" "),s("p",[s("strong",[t._v("Kind")]),t._v(": instance property of "),s("a",{attrs:{href:"#Context"}},[s("code",[t._v("Context")])]),s("br"),t._v(" "),s("a",{attrs:{name:"Context+call"}})]),t._v(" "),s("h3",{attrs:{id:"context-call-object"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#context-call-object","aria-hidden":"true"}},[t._v("#")]),t._v(" context.call : "),s("code",[t._v("Object")])]),t._v(" "),s("p",[t._v("The internal gRPC call instance reference.\nThis is an alias to "),s("code",[t._v("ctx.request.call")]),t._v(".")]),t._v(" "),s("p",[s("strong",[t._v("Kind")]),t._v(": instance property of "),s("a",{attrs:{href:"#Context"}},[s("code",[t._v("Context")])]),s("br"),t._v(" "),s("a",{attrs:{name:"Context+request"}})]),t._v(" "),s("h3",{attrs:{id:"context-request-object"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#context-request-object","aria-hidden":"true"}},[t._v("#")]),t._v(" context.request : "),s("code",[t._v("Object")])]),t._v(" "),s("p",[t._v("The call's Mali Request object.")]),t._v(" "),s("p",[s("strong",[t._v("Kind")]),t._v(": instance property of "),s("a",{attrs:{href:"#Context"}},[s("code",[t._v("Context")])]),s("br"),t._v(" "),s("a",{attrs:{name:"Context+response"}})]),t._v(" "),s("h3",{attrs:{id:"context-response-object"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#context-response-object","aria-hidden":"true"}},[t._v("#")]),t._v(" context.response : "),s("code",[t._v("Object")])]),t._v(" "),s("p",[t._v("The call's Mali Response object.")]),t._v(" "),s("p",[s("strong",[t._v("Kind")]),t._v(": instance property of "),s("a",{attrs:{href:"#Context"}},[s("code",[t._v("Context")])]),s("br"),t._v(" "),s("a",{attrs:{name:"Context+req"}})]),t._v(" "),s("h3",{attrs:{id:"context-req-object-stream"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#context-req-object-stream","aria-hidden":"true"}},[t._v("#")]),t._v(" context.req : "),s("code",[t._v("Object")]),t._v(" | "),s("code",[t._v("Stream")])]),t._v(" "),s("p",[t._v("The call request object or stream. This is an alias to "),s("code",[t._v("ctx.request.res")]),t._v(".")]),t._v(" "),s("p",[s("strong",[t._v("Kind")]),t._v(": instance property of "),s("a",{attrs:{href:"#Context"}},[s("code",[t._v("Context")])]),s("br"),t._v(" "),s("strong",[t._v("Example")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("console"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("dir")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("req"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token comment"}},[t._v("// { name: 'Bob' }")]),t._v("\n")])])]),s("p",[s("a",{attrs:{name:"Context+type"}})]),t._v(" "),s("h3",{attrs:{id:"context-type-string"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#context-type-string","aria-hidden":"true"}},[t._v("#")]),t._v(" context.type : "),s("code",[t._v("String")])]),t._v(" "),s("p",[t._v("The call's type. One of "),s("code",[t._v("mali-call-types")]),t._v(" enums.\nThis is an alias to "),s("code",[t._v("ctx.request.type")]),t._v(".")]),t._v(" "),s("p",[s("strong",[t._v("Kind")]),t._v(": instance property of "),s("a",{attrs:{href:"#Context"}},[s("code",[t._v("Context")])]),s("br"),t._v(" "),s("strong",[t._v("Example")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("console"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("log")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("type"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token comment"}},[t._v("// 'unary'")]),t._v("\n")])])]),s("p",[s("strong",[t._v("Example")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{attrs:{class:"token keyword"}},[t._v("if")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("type "),s("span",{attrs:{class:"token operator"}},[t._v("===")]),t._v(" CallType"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token constant"}},[t._v("DUPLEX")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("log")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'Duplex stream call'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[s("a",{attrs:{name:"Context+metadata"}})]),t._v(" "),s("h3",{attrs:{id:"context-metadata-string"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#context-metadata-string","aria-hidden":"true"}},[t._v("#")]),t._v(" context.metadata : "),s("code",[t._v("String")])]),t._v(" "),s("p",[t._v("The call's request metadata plain object.\nThis is an alias to "),s("code",[t._v("ctx.request.metadata")]),t._v(".")]),t._v(" "),s("p",[s("strong",[t._v("Kind")]),t._v(": instance property of "),s("a",{attrs:{href:"#Context"}},[s("code",[t._v("Context")])]),s("br"),t._v(" "),s("strong",[t._v("Example")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("console"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("log")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("metadata"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{attrs:{class:"token comment"}},[t._v("// { 'user-agent': 'grpc-node/1.7.1 grpc-c/1.7.1 (osx; chttp2)' }")]),t._v("\n")])])]),s("p",[s("a",{attrs:{name:"Context+get"}})]),t._v(" "),s("h3",{attrs:{id:"context-get-⇒"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#context-get-⇒","aria-hidden":"true"}},[t._v("#")]),t._v(" context.get ⇒ "),s("code",[t._v("*")])]),t._v(" "),s("p",[t._v("Get request metadata value\nThis is an alias to "),s("code",[t._v("ctx.request.get()")]),t._v(".")]),t._v(" "),s("p",[s("strong",[t._v("Kind")]),t._v(": instance property of "),s("a",{attrs:{href:"#Context"}},[s("code",[t._v("Context")])]),s("br"),t._v(" "),s("strong",[t._v("Returns")]),t._v(": "),s("code",[t._v("*")]),t._v(" - the metadata field value")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Param")]),t._v(" "),s("th",[t._v("Type")]),t._v(" "),s("th",[t._v("Description")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("field")]),t._v(" "),s("td",[s("code",[t._v("String")])]),t._v(" "),s("td",[t._v("the field name")])])])]),t._v(" "),s("p",[s("strong",[t._v("Example")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("console"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("log")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token keyword"}},[t._v("get")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'user-agent'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{attrs:{class:"token comment"}},[t._v("// 'grpc-node/1.7.1 grpc-c/1.7.1 (osx; chttp2)'")]),t._v("\n")])])]),s("p",[s("a",{attrs:{name:"Context+res"}})]),t._v(" "),s("h3",{attrs:{id:"context-res-object-stream"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#context-res-object-stream","aria-hidden":"true"}},[t._v("#")]),t._v(" context.res : "),s("code",[t._v("Object")]),t._v(" | "),s("code",[t._v("Stream")])]),t._v(" "),s("p",[t._v("The response object or stream. Should be set in handler.\nThis is an alias to "),s("code",[t._v("ctx.response.res")]),t._v(".")]),t._v(" "),s("p",[s("strong",[t._v("Kind")]),t._v(": instance property of "),s("a",{attrs:{href:"#Context"}},[s("code",[t._v("Context")])]),s("br"),t._v(" "),s("strong",[t._v("Example")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("ctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("res "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" message"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'Hello World!'")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[s("a",{attrs:{name:"Context+set"}})]),t._v(" "),s("h3",{attrs:{id:"context-set-function"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#context-set-function","aria-hidden":"true"}},[t._v("#")]),t._v(" context.set : "),s("code",[t._v("function")])]),t._v(" "),s("p",[t._v("Set response header metadata value.\nThis is an alias to "),s("code",[t._v("ctx.response.set()")]),t._v(".")]),t._v(" "),s("p",[s("strong",[t._v("Kind")]),t._v(": instance property of "),s("a",{attrs:{href:"#Context"}},[s("code",[t._v("Context")])])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Param")]),t._v(" "),s("th",[t._v("Type")]),t._v(" "),s("th",[t._v("Description")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("field")]),t._v(" "),s("td",[s("code",[t._v("String")]),t._v(" | "),s("code",[t._v("Object")])]),t._v(" "),s("td",[t._v("the metadata field name or object for metadata")])]),t._v(" "),s("tr",[s("td",[t._v("val")]),t._v(" "),s("td",[s("code",[t._v("*")])]),t._v(" "),s("td",[t._v("the value of the field")])])])]),t._v(" "),s("p",[s("strong",[t._v("Example")]),t._v(" "),s("em",[t._v("(Using string field name and value)")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("ctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token keyword"}},[t._v("set")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'foo'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'bar'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[s("strong",[t._v("Example")]),t._v(" "),s("em",[t._v("(Using object)")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("ctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token keyword"}},[t._v("set")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  foo"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'bar'")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[s("a",{attrs:{name:"Context+sendMetadata"}})]),t._v(" "),s("h3",{attrs:{id:"context-sendmetadata-function"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#context-sendmetadata-function","aria-hidden":"true"}},[t._v("#")]),t._v(" context.sendMetadata : "),s("code",[t._v("function")])]),t._v(" "),s("p",[t._v("Send response header metadata.\nThis is an alias to "),s("code",[t._v("ctx.response.sendMetadata()")]),t._v(".")]),t._v(" "),s("p",[s("strong",[t._v("Kind")]),t._v(": instance property of "),s("a",{attrs:{href:"#Context"}},[s("code",[t._v("Context")])])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Param")]),t._v(" "),s("th",[t._v("Type")]),t._v(" "),s("th",[t._v("Description")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("md")]),t._v(" "),s("td",[s("code",[t._v("Object")])]),t._v(" "),s("td",[t._v("optional header metadata object to set into the request before sending                    if there is existing metadata in the response it is cleared                    if param is not provided "),s("code",[t._v("sendMetadata")]),t._v(" sends the existing metadata in the response")])])])]),t._v(" "),s("p",[s("strong",[t._v("Example")]),t._v(" "),s("em",[t._v("(Set and send)")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("ctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("sendMetadata")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  foo"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'bar'")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[s("strong",[t._v("Example")]),t._v(" "),s("em",[t._v("(Set and send later)")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("ctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token keyword"}},[t._v("set")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'foo'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'bar'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{attrs:{class:"token comment"}},[t._v("// ... later")]),t._v("\nctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("response"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("sendMetadata")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[s("a",{attrs:{name:"Context+getStatus"}})]),t._v(" "),s("h3",{attrs:{id:"context-getstatus-⇒"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#context-getstatus-⇒","aria-hidden":"true"}},[t._v("#")]),t._v(" context.getStatus ⇒ "),s("code",[t._v("*")])]),t._v(" "),s("p",[t._v("Get response status / trailer metadata value.\nThis is an alias to "),s("code",[t._v("ctx.response.getStatus()")]),t._v(".")]),t._v(" "),s("p",[s("strong",[t._v("Kind")]),t._v(": instance property of "),s("a",{attrs:{href:"#Context"}},[s("code",[t._v("Context")])]),s("br"),t._v(" "),s("strong",[t._v("Returns")]),t._v(": "),s("code",[t._v("*")]),t._v(" - the metadata field value\nconsole.log(ctx.getStatus('foo')) // 'bar'")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Param")]),t._v(" "),s("th",[t._v("Type")]),t._v(" "),s("th",[t._v("Description")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("field")]),t._v(" "),s("td",[s("code",[t._v("String")])]),t._v(" "),s("td",[t._v("the field name")])])])]),t._v(" "),s("p",[s("a",{attrs:{name:"Context+setStatus"}})]),t._v(" "),s("h3",{attrs:{id:"context-setstatus-function"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#context-setstatus-function","aria-hidden":"true"}},[t._v("#")]),t._v(" context.setStatus : "),s("code",[t._v("function")])]),t._v(" "),s("p",[t._v("Set response status / trailer metadata value.\nThis is an alias to "),s("code",[t._v("ctx.response.setStatus()")]),t._v(".")]),t._v(" "),s("p",[s("strong",[t._v("Kind")]),t._v(": instance property of "),s("a",{attrs:{href:"#Context"}},[s("code",[t._v("Context")])])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Param")]),t._v(" "),s("th",[t._v("Type")]),t._v(" "),s("th",[t._v("Description")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("field")]),t._v(" "),s("td",[s("code",[t._v("String")]),t._v(" | "),s("code",[t._v("Object")])]),t._v(" "),s("td",[t._v("the metadata field name or object for metadata")])]),t._v(" "),s("tr",[s("td",[t._v("val")]),t._v(" "),s("td",[s("code",[t._v("*")])]),t._v(" "),s("td",[t._v("the value of the field")])])])]),t._v(" "),s("p",[s("strong",[t._v("Example")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("ctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("setStatus")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'foo'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'bar'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[s("strong",[t._v("Example")]),t._v(" "),s("em",[t._v("(Using object)")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("ctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("setStatus")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  foo"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'bar'")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[s("a",{attrs:{name:"Request"}})]),t._v(" "),s("h2",{attrs:{id:"request"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#request","aria-hidden":"true"}},[t._v("#")]),t._v(" Request")]),t._v(" "),s("p",[t._v("Mali Request class that encapsulates the request of a call.\nClients to not create this. Mali does it for us.")]),t._v(" "),s("p",[s("strong",[t._v("Kind")]),t._v(": global class")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"#Request"}},[t._v("Request")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"#new_Request_new"}},[t._v("new Request(call, type)")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#Request+call"}},[t._v(".call")]),t._v(" : "),s("code",[t._v("Object")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#Request+req"}},[t._v(".req")]),t._v(" : "),s("code",[t._v("Object")]),t._v(" | "),s("code",[t._v("Stream")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#Request+metadata"}},[t._v(".metadata")]),t._v(" : "),s("code",[t._v("Object")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#Request+type"}},[t._v(".type")]),t._v(" : "),s("code",[t._v("String")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#Request+getMetadata"}},[t._v(".getMetadata()")]),t._v(" ⇒ "),s("code",[t._v("Object")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#Request+get"}},[t._v(".get(field)")]),t._v(" ⇒ "),s("code",[t._v("*")])])])])]),t._v(" "),s("p",[s("a",{attrs:{name:"new_Request_new"}})]),t._v(" "),s("h3",{attrs:{id:"new-request-call-type"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#new-request-call-type","aria-hidden":"true"}},[t._v("#")]),t._v(" new Request(call, type)")]),t._v(" "),s("p",[t._v("Creates a Mali Request instance")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Param")]),t._v(" "),s("th",[t._v("Type")]),t._v(" "),s("th",[t._v("Description")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("call")]),t._v(" "),s("td",[s("code",[t._v("Object")])]),t._v(" "),s("td",[t._v("the grpc call instance")])]),t._v(" "),s("tr",[s("td",[t._v("type")]),t._v(" "),s("td",[s("code",[t._v("String")])]),t._v(" "),s("td",[t._v("the call type. one of "),s("code",[t._v("mali-call-types")]),t._v(" enums.")])])])]),t._v(" "),s("p",[s("a",{attrs:{name:"Request+call"}})]),t._v(" "),s("h3",{attrs:{id:"request-call-object"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#request-call-object","aria-hidden":"true"}},[t._v("#")]),t._v(" request.call : "),s("code",[t._v("Object")])]),t._v(" "),s("p",[t._v("The internal gRPC call instance reference.")]),t._v(" "),s("p",[s("strong",[t._v("Kind")]),t._v(": instance property of "),s("a",{attrs:{href:"#Request"}},[s("code",[t._v("Request")])]),s("br"),t._v(" "),s("a",{attrs:{name:"Request+req"}})]),t._v(" "),s("h3",{attrs:{id:"request-req-object-stream"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#request-req-object-stream","aria-hidden":"true"}},[t._v("#")]),t._v(" request.req : "),s("code",[t._v("Object")]),t._v(" | "),s("code",[t._v("Stream")])]),t._v(" "),s("p",[t._v("The call request object or stream.")]),t._v(" "),s("p",[s("strong",[t._v("Kind")]),t._v(": instance property of "),s("a",{attrs:{href:"#Request"}},[s("code",[t._v("Request")])]),s("br"),t._v(" "),s("strong",[t._v("Example")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("console"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("log")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("request"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("req"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token comment"}},[t._v("// { name: 'Bob' }")]),t._v("\n")])])]),s("p",[s("a",{attrs:{name:"Request+metadata"}})]),t._v(" "),s("h3",{attrs:{id:"request-metadata-object"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#request-metadata-object","aria-hidden":"true"}},[t._v("#")]),t._v(" request.metadata : "),s("code",[t._v("Object")])]),t._v(" "),s("p",[t._v("The call's request metadata plain object if present.")]),t._v(" "),s("p",[s("strong",[t._v("Kind")]),t._v(": instance property of "),s("a",{attrs:{href:"#Request"}},[s("code",[t._v("Request")])]),s("br"),t._v(" "),s("strong",[t._v("Example")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("console"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("log")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("request"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("metadata"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{attrs:{class:"token comment"}},[t._v("// { 'user-agent': 'grpc-node/1.7.1 grpc-c/1.7.1 (osx; chttp2)' }")]),t._v("\n")])])]),s("p",[s("a",{attrs:{name:"Request+type"}})]),t._v(" "),s("h3",{attrs:{id:"request-type-string"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#request-type-string","aria-hidden":"true"}},[t._v("#")]),t._v(" request.type : "),s("code",[t._v("String")])]),t._v(" "),s("p",[t._v("The call's type. One of "),s("code",[t._v("mali-call-types")]),t._v(" enums.")]),t._v(" "),s("p",[s("strong",[t._v("Kind")]),t._v(": instance property of "),s("a",{attrs:{href:"#Request"}},[s("code",[t._v("Request")])]),s("br"),t._v(" "),s("strong",[t._v("Example")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("console"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("log")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("request"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("type"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token comment"}},[t._v("// 'unary'")]),t._v("\n")])])]),s("p",[s("strong",[t._v("Example")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{attrs:{class:"token keyword"}},[t._v("if")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("request"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("type "),s("span",{attrs:{class:"token operator"}},[t._v("===")]),t._v(" CallType"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token constant"}},[t._v("DUPLEX")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("log")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'Duplex stream call'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[s("a",{attrs:{name:"Request+getMetadata"}})]),t._v(" "),s("h3",{attrs:{id:"request-getmetadata-⇒-object"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#request-getmetadata-⇒-object","aria-hidden":"true"}},[t._v("#")]),t._v(" request.getMetadata() ⇒ "),s("code",[t._v("Object")])]),t._v(" "),s("p",[t._v("Gets the requests metadata as a "),s("code",[t._v("grpc.Metadata")]),t._v(" object instance")]),t._v(" "),s("p",[s("strong",[t._v("Kind")]),t._v(": instance method of "),s("a",{attrs:{href:"#Request"}},[s("code",[t._v("Request")])]),s("br"),t._v(" "),s("strong",[t._v("Returns")]),t._v(": "),s("code",[t._v("Object")]),t._v(" - request metadata"),s("br"),t._v(" "),s("a",{attrs:{name:"Request+get"}})]),t._v(" "),s("h3",{attrs:{id:"request-get-field-⇒"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#request-get-field-⇒","aria-hidden":"true"}},[t._v("#")]),t._v(" request.get(field) ⇒ "),s("code",[t._v("*")])]),t._v(" "),s("p",[t._v("Gets specific request metadata field value")]),t._v(" "),s("p",[s("strong",[t._v("Kind")]),t._v(": instance method of "),s("a",{attrs:{href:"#Request"}},[s("code",[t._v("Request")])]),s("br"),t._v(" "),s("strong",[t._v("Returns")]),t._v(": "),s("code",[t._v("*")]),t._v(" - the metadata value for the field")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Param")]),t._v(" "),s("th",[t._v("Type")]),t._v(" "),s("th",[t._v("Description")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("field")]),t._v(" "),s("td",[s("code",[t._v("*")])]),t._v(" "),s("td",[t._v("the metadata field name")])])])]),t._v(" "),s("p",[s("strong",[t._v("Example")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("console"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("log")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("request"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token keyword"}},[t._v("get")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'foo'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token comment"}},[t._v("// 'bar'")]),t._v("\n")])])]),s("p",[s("a",{attrs:{name:"Response"}})]),t._v(" "),s("h2",{attrs:{id:"response"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#response","aria-hidden":"true"}},[t._v("#")]),t._v(" Response")]),t._v(" "),s("p",[t._v("Mali Response class that encapsulates the response of a call.\nClients to not create this. Mali does it for us.")]),t._v(" "),s("p",[s("strong",[t._v("Kind")]),t._v(": global class")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"#Response"}},[t._v("Response")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"#new_Response_new"}},[t._v("new Response(call, type)")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#Response+call"}},[t._v(".call")]),t._v(" : "),s("code",[t._v("Object")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#Response+type"}},[t._v(".type")]),t._v(" : "),s("code",[t._v("String")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#Response+metadata"}},[t._v(".metadata")]),t._v(" : "),s("code",[t._v("Object")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#Response+status"}},[t._v(".status")]),t._v(" : "),s("code",[t._v("Object")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#Response+res"}},[t._v(".res")]),t._v(" : "),s("code",[t._v("Object")]),t._v(" | "),s("code",[t._v("Stream")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#Response+set"}},[t._v(".set(field, val)")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#Response+get"}},[t._v(".get(field)")]),t._v(" ⇒ "),s("code",[t._v("*")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#Response+getMetadata"}},[t._v(".getMetadata()")]),t._v(" ⇒ "),s("code",[t._v("Object")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#Response+sendMetadata"}},[t._v(".sendMetadata(md)")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#Response+getStatus"}},[t._v(".getStatus(field)")]),t._v(" ⇒ "),s("code",[t._v("*")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#Response+setStatus"}},[t._v(".setStatus(field, val)")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#Response+getStatusMetadata"}},[t._v(".getStatusMetadata()")]),t._v(" ⇒ "),s("code",[t._v("Object")])])])])]),t._v(" "),s("p",[s("a",{attrs:{name:"new_Response_new"}})]),t._v(" "),s("h3",{attrs:{id:"new-response-call-type"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#new-response-call-type","aria-hidden":"true"}},[t._v("#")]),t._v(" new Response(call, type)")]),t._v(" "),s("p",[t._v("Creates a Mali Response instance")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Param")]),t._v(" "),s("th",[t._v("Type")]),t._v(" "),s("th",[t._v("Description")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("call")]),t._v(" "),s("td",[s("code",[t._v("Object")])]),t._v(" "),s("td",[t._v("the grpc call instance")])]),t._v(" "),s("tr",[s("td",[t._v("type")]),t._v(" "),s("td",[s("code",[t._v("String")])]),t._v(" "),s("td",[t._v("the call type. one of "),s("code",[t._v("mali-call-types")]),t._v(" enums.")])])])]),t._v(" "),s("p",[s("a",{attrs:{name:"Response+call"}})]),t._v(" "),s("h3",{attrs:{id:"response-call-object"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#response-call-object","aria-hidden":"true"}},[t._v("#")]),t._v(" response.call : "),s("code",[t._v("Object")])]),t._v(" "),s("p",[t._v("The internal gRPC call instance reference.")]),t._v(" "),s("p",[s("strong",[t._v("Kind")]),t._v(": instance property of "),s("a",{attrs:{href:"#Response"}},[s("code",[t._v("Response")])]),s("br"),t._v(" "),s("a",{attrs:{name:"Response+type"}})]),t._v(" "),s("h3",{attrs:{id:"response-type-string"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#response-type-string","aria-hidden":"true"}},[t._v("#")]),t._v(" response.type : "),s("code",[t._v("String")])]),t._v(" "),s("p",[t._v("The call's type. One of "),s("code",[t._v("mali-call-types")]),t._v(" enums.\nThis will match Request's type.")]),t._v(" "),s("p",[s("strong",[t._v("Kind")]),t._v(": instance property of "),s("a",{attrs:{href:"#Response"}},[s("code",[t._v("Response")])]),s("br"),t._v(" "),s("strong",[t._v("Example")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("console"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("log")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("response"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("type"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token comment"}},[t._v("// 'unary'")]),t._v("\n")])])]),s("p",[s("a",{attrs:{name:"Response+metadata"}})]),t._v(" "),s("h3",{attrs:{id:"response-metadata-object"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#response-metadata-object","aria-hidden":"true"}},[t._v("#")]),t._v(" response.metadata : "),s("code",[t._v("Object")])]),t._v(" "),s("p",[t._v("The call's response header metadata plain object if present.")]),t._v(" "),s("p",[s("strong",[t._v("Kind")]),t._v(": instance property of "),s("a",{attrs:{href:"#Response"}},[s("code",[t._v("Response")])]),s("br"),t._v(" "),s("strong",[t._v("Example")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("ctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("response"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token keyword"}},[t._v("set")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'foo'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'bar'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nconsole"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("log")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("response"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("metadata"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),s("span",{attrs:{class:"token comment"}},[t._v("// { 'foo': 'bar' }")]),t._v("\n")])])]),s("p",[s("a",{attrs:{name:"Response+status"}})]),t._v(" "),s("h3",{attrs:{id:"response-status-object"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#response-status-object","aria-hidden":"true"}},[t._v("#")]),t._v(" response.status : "),s("code",[t._v("Object")])]),t._v(" "),s("p",[t._v("The call's response trailer / status metadata plain object if present.")]),t._v(" "),s("p",[s("strong",[t._v("Kind")]),t._v(": instance property of "),s("a",{attrs:{href:"#Response"}},[s("code",[t._v("Response")])]),s("br"),t._v(" "),s("strong",[t._v("Example")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("ctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("response"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("setStatus")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'biz'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'baz'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nconsole"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("log")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("response"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("status"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token comment"}},[t._v("// { biz: 'baz' }")]),t._v("\n")])])]),s("p",[s("a",{attrs:{name:"Response+res"}})]),t._v(" "),s("h3",{attrs:{id:"response-res-object-stream"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#response-res-object-stream","aria-hidden":"true"}},[t._v("#")]),t._v(" response.res : "),s("code",[t._v("Object")]),t._v(" | "),s("code",[t._v("Stream")])]),t._v(" "),s("p",[t._v("The call's response actual payload object / stream.\nIn case of "),s("code",[t._v("DUPLEX")]),t._v(" call this is automatically set the actual "),s("code",[t._v("call")]),t._v(" instance.")]),t._v(" "),s("p",[s("strong",[t._v("Kind")]),t._v(": instance property of "),s("a",{attrs:{href:"#Response"}},[s("code",[t._v("Response")])]),s("br"),t._v(" "),s("strong",[t._v("Example")]),t._v(" "),s("em",[t._v("(UNARY or REQUEST STREAM calls)")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("ctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("response"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("res "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" foo"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'bar'")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[s("strong",[t._v("Example")]),t._v(" "),s("em",[t._v("(RESPONSE STREAM calls)")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("ctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("response"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("res "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token function"}},[t._v("createResponseStream")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[s("strong",[t._v("Example")]),t._v(" "),s("em",[t._v("(DUPLEX calls)")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("ctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("response"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("res"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("write")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" foo"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'bar'")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[s("a",{attrs:{name:"Response+set"}})]),t._v(" "),s("h3",{attrs:{id:"response-set-field-val"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#response-set-field-val","aria-hidden":"true"}},[t._v("#")]),t._v(" response.set(field, val)")]),t._v(" "),s("p",[t._v("Sets specific response header metadata field value")]),t._v(" "),s("p",[s("strong",[t._v("Kind")]),t._v(": instance method of "),s("a",{attrs:{href:"#Response"}},[s("code",[t._v("Response")])])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Param")]),t._v(" "),s("th",[t._v("Type")]),t._v(" "),s("th",[t._v("Description")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("field")]),t._v(" "),s("td",[s("code",[t._v("String")]),t._v(" | "),s("code",[t._v("Object")])]),t._v(" "),s("td",[t._v("the metadata field name or object for metadata")])]),t._v(" "),s("tr",[s("td",[t._v("val")]),t._v(" "),s("td",[s("code",[t._v("*")])]),t._v(" "),s("td",[t._v("the value of the field")])])])]),t._v(" "),s("p",[s("strong",[t._v("Example")]),t._v(" "),s("em",[t._v("(Using string field name and value)")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("ctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("response"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token keyword"}},[t._v("set")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'foo'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'bar'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[s("strong",[t._v("Example")]),t._v(" "),s("em",[t._v("(Using object)")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("ctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("response"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token keyword"}},[t._v("set")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  foo"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'bar'")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[s("a",{attrs:{name:"Response+get"}})]),t._v(" "),s("h3",{attrs:{id:"response-get-field-⇒"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#response-get-field-⇒","aria-hidden":"true"}},[t._v("#")]),t._v(" response.get(field) ⇒ "),s("code",[t._v("*")])]),t._v(" "),s("p",[t._v("Gets the response header metadata value")]),t._v(" "),s("p",[s("strong",[t._v("Kind")]),t._v(": instance method of "),s("a",{attrs:{href:"#Response"}},[s("code",[t._v("Response")])]),s("br"),t._v(" "),s("strong",[t._v("Returns")]),t._v(": "),s("code",[t._v("*")]),t._v(" - the metadata field value")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Param")]),t._v(" "),s("th",[t._v("Type")]),t._v(" "),s("th",[t._v("Description")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("field")]),t._v(" "),s("td",[s("code",[t._v("String")])]),t._v(" "),s("td",[t._v("the field name")])])])]),t._v(" "),s("p",[s("strong",[t._v("Example")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("console"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("log")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("response"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token keyword"}},[t._v("get")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'foo'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token comment"}},[t._v("// 'bar'")]),t._v("\n")])])]),s("p",[s("a",{attrs:{name:"Response+getMetadata"}})]),t._v(" "),s("h3",{attrs:{id:"response-getmetadata-⇒-object"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#response-getmetadata-⇒-object","aria-hidden":"true"}},[t._v("#")]),t._v(" response.getMetadata() ⇒ "),s("code",[t._v("Object")])]),t._v(" "),s("p",[t._v("Gets the response metadata as a "),s("code",[t._v("grpc.Metadata")]),t._v(" object instance")]),t._v(" "),s("p",[s("strong",[t._v("Kind")]),t._v(": instance method of "),s("a",{attrs:{href:"#Response"}},[s("code",[t._v("Response")])]),s("br"),t._v(" "),s("strong",[t._v("Returns")]),t._v(": "),s("code",[t._v("Object")]),t._v(" - response metadata"),s("br"),t._v(" "),s("a",{attrs:{name:"Response+sendMetadata"}})]),t._v(" "),s("h3",{attrs:{id:"response-sendmetadata-md"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#response-sendmetadata-md","aria-hidden":"true"}},[t._v("#")]),t._v(" response.sendMetadata(md)")]),t._v(" "),s("p",[t._v("Sends the response header metadata. Optionally (re)sets the header metadata as well.")]),t._v(" "),s("p",[s("strong",[t._v("Kind")]),t._v(": instance method of "),s("a",{attrs:{href:"#Response"}},[s("code",[t._v("Response")])])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Param")]),t._v(" "),s("th",[t._v("Type")]),t._v(" "),s("th",[t._v("Description")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("md")]),t._v(" "),s("td",[s("code",[t._v("Object")])]),t._v(" "),s("td",[t._v("optional header metadata object to set into the request before sending                    if there is existing metadata in the response it is cleared                    if param is not provided "),s("code",[t._v("sendMetadata")]),t._v(" sends the existing metadata in the response")])])])]),t._v(" "),s("p",[s("strong",[t._v("Example")]),t._v(" "),s("em",[t._v("(Set and send)")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("ctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("response"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("sendMetadata")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  foo"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'bar'")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[s("strong",[t._v("Example")]),t._v(" "),s("em",[t._v("(Set and send later)")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("ctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("response"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token keyword"}},[t._v("set")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'foo'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'bar'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{attrs:{class:"token comment"}},[t._v("// ... later")]),t._v("\nctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("response"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("sendMetadata")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[s("a",{attrs:{name:"Response+getStatus"}})]),t._v(" "),s("h3",{attrs:{id:"response-getstatus-field-⇒"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#response-getstatus-field-⇒","aria-hidden":"true"}},[t._v("#")]),t._v(" response.getStatus(field) ⇒ "),s("code",[t._v("*")])]),t._v(" "),s("p",[t._v("Gets the response status / trailer metadata value")]),t._v(" "),s("p",[s("strong",[t._v("Kind")]),t._v(": instance method of "),s("a",{attrs:{href:"#Response"}},[s("code",[t._v("Response")])]),s("br"),t._v(" "),s("strong",[t._v("Returns")]),t._v(": "),s("code",[t._v("*")]),t._v(" - the metadata field value")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Param")]),t._v(" "),s("th",[t._v("Type")]),t._v(" "),s("th",[t._v("Description")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("field")]),t._v(" "),s("td",[s("code",[t._v("String")])]),t._v(" "),s("td",[t._v("the field name")])])])]),t._v(" "),s("p",[s("strong",[t._v("Example")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("console"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("log")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("response"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("getStatus")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'bar'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token comment"}},[t._v("// 'baz'")]),t._v("\n")])])]),s("p",[s("a",{attrs:{name:"Response+setStatus"}})]),t._v(" "),s("h3",{attrs:{id:"response-setstatus-field-val"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#response-setstatus-field-val","aria-hidden":"true"}},[t._v("#")]),t._v(" response.setStatus(field, val)")]),t._v(" "),s("p",[t._v("Sets specific response status / trailer metadata field value")]),t._v(" "),s("p",[s("strong",[t._v("Kind")]),t._v(": instance method of "),s("a",{attrs:{href:"#Response"}},[s("code",[t._v("Response")])])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Param")]),t._v(" "),s("th",[t._v("Type")]),t._v(" "),s("th",[t._v("Description")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("field")]),t._v(" "),s("td",[s("code",[t._v("String")]),t._v(" | "),s("code",[t._v("Object")])]),t._v(" "),s("td",[t._v("the metadata field name or object for metadata")])]),t._v(" "),s("tr",[s("td",[t._v("val")]),t._v(" "),s("td",[s("code",[t._v("*")])]),t._v(" "),s("td",[t._v("the value of the field")])])])]),t._v(" "),s("p",[s("strong",[t._v("Example")]),t._v(" "),s("em",[t._v("(Using string field name and value)")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("ctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("response"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("setStatus")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'foo'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'bar'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[s("strong",[t._v("Example")]),t._v(" "),s("em",[t._v("(Using object)")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("ctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("response"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("setStatus")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  foo"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'bar'")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[s("a",{attrs:{name:"Response+getStatusMetadata"}})]),t._v(" "),s("h3",{attrs:{id:"response-getstatusmetadata-⇒-object"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#response-getstatusmetadata-⇒-object","aria-hidden":"true"}},[t._v("#")]),t._v(" response.getStatusMetadata() ⇒ "),s("code",[t._v("Object")])]),t._v(" "),s("p",[t._v("Gets the response status / trailer metadata as a "),s("code",[t._v("grpc.Metadata")]),t._v(" object instance")]),t._v(" "),s("p",[s("strong",[t._v("Kind")]),t._v(": instance method of "),s("a",{attrs:{href:"#Response"}},[s("code",[t._v("Response")])]),s("br"),t._v(" "),s("strong",[t._v("Returns")]),t._v(": "),s("code",[t._v("Object")]),t._v(" - response status / trailer metadata")])])}],!1,null,null,null);a.default=n.exports}}]);